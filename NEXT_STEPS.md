# üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã PostgreSQL

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### –ö–æ–º–º–∏—Ç—ã:
1. **c56e5ef** - "Fix PostgreSQL schema: add missing columns and correct table names"
2. **25737ed** - "Add documentation for PostgreSQL schema fixes"
3. **bc4c43d** - "Update quick start guide with latest schema fixes"

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–ª–æ–Ω–∫–∏ `full_name`, `phone` –≤ —Ç–∞–±–ª–∏—Ü—É `users`
- ‚úÖ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã: `products` ‚Üí `investment_products`, `investments` ‚Üí `user_investments`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–ª–æ–Ω–∫–∏ –≤ `investment_products`: `expected_return`, `duration_months`, `category`, `is_active`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `current_value` –≤ `user_investments`
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã: `transactions`, `payment_requests`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã

---

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Render

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –Ω–æ–≤—ã–µ –∫–æ–º–º–∏—Ç—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –¥–µ–ø–ª–æ–π. –û–∂–∏–¥–∞–π—Ç–µ:

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
1. **Render —Å–∫–∞—á–∞–µ—Ç commit c56e5ef** —Å –Ω–æ–≤—ã–º–∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
2. **–ó–∞–ø—É—Å—Ç–∏—Ç `npm run render-build`:**
   - –°–±–æ—Ä–∫–∞ React frontend
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ production –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–µ–∑ better-sqlite3
3. **–ó–∞–ø—É—Å—Ç–∏—Ç `npm start`:**
   - –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ Node.js
   - **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ**

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Render:
```
‚úÖ Building...
‚úÖ Running migrations...
‚úÖ Creating schema: investment
‚úÖ Table users exists
‚úÖ Table investment_products exists
‚úÖ Server is running on port 10000
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–±–ª–µ–º–∞:
–ï—Å–ª–∏ PostgreSQL –±–∞–∑–∞ —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞ —Å **–°–¢–ê–†–û–ô** —Å—Ö–µ–º–æ–π (–±–µ–∑ `full_name`, —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ `products`, `investments`), —Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ **–ù–ï –û–ë–ù–û–í–Ø–¢** –µ—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–ü–æ—á–µ–º—É?**
–ú–∏–≥—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `CREATE TABLE IF NOT EXISTS` - –æ–Ω–∏ —Ç–æ–ª—å–∫–æ **—Å–æ–∑–¥–∞—é—Ç** —Ç–∞–±–ª–∏—Ü—ã, –Ω–æ –Ω–µ **–∏–∑–º–µ–Ω—è—é—Ç** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ.

### –†–µ—à–µ–Ω–∏–µ:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å PostgreSQL –±–∞–∑—É (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–ï—Å–ª–∏ –≤ –±–∞–∑–µ –Ω–µ—Ç –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

1. **–í Render Dashboard:**
   - Dashboard ‚Üí –≤–∞—àa PostgreSQL –±–∞–∑–∞ ‚Üí Settings
   - –í–Ω–∏–∑—É: **"Delete Database"**
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é PostgreSQL:**
   - Dashboard ‚Üí New ‚Üí PostgreSQL
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π **External Database URL**

3. **–û–±–Ω–æ–≤–∏—Ç–µ Environment Variable:**
   - Web Service ‚Üí Environment ‚Üí `DATABASE_URL`
   - –í—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π URL –∏–∑ –ø.2
   - Save Changes

4. **–†—É—á–Ω–æ–π Redeploy:**
   - Manual Deploy ‚Üí Clear build cache & deploy

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ö–µ–º–æ–π

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã

–ï—Å–ª–∏ –≤ –±–∞–∑–µ –µ—Å—Ç—å –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π):

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL —á–µ—Ä–µ–∑ psql** (—Å–º. `RENDER_ENV.txt` —Ä–∞–∑–¥–µ–ª "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL")

2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –≤—Ä—É—á–Ω—É—é:**
```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å—Ö–µ–º–µ
SET search_path TO investment;

-- –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏
ALTER TABLE users ADD COLUMN IF NOT EXISTS full_name VARCHAR(255);
ALTER TABLE users ADD COLUMN IF NOT EXISTS phone VARCHAR(50);

-- –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã
ALTER TABLE IF EXISTS products RENAME TO investment_products;
ALTER TABLE IF EXISTS investments RENAME TO user_investments;

-- –î–æ–±–∞–≤—å—Ç–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ investment_products
ALTER TABLE investment_products ADD COLUMN IF NOT EXISTS expected_return DECIMAL(5,2);
ALTER TABLE investment_products ADD COLUMN IF NOT EXISTS duration_months INTEGER;
ALTER TABLE investment_products ADD COLUMN IF NOT EXISTS category VARCHAR(100);
ALTER TABLE investment_products ADD COLUMN IF NOT EXISTS is_active BOOLEAN DEFAULT TRUE;

-- –î–æ–±–∞–≤—å—Ç–µ –∫–æ–ª–æ–Ω–∫—É –≤ user_investments
ALTER TABLE user_investments ADD COLUMN IF NOT EXISTS current_value DECIMAL(15,2);

-- –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (—Å–º. backend/database/migrations.js)
```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Web Service** –≤ Render

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:
```bash
curl https://investment-05dr.onrender.com/api/health
```

### 2. –¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://investment-05dr.onrender.com
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Å `full_name` –∏ `phone` (—Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å!)
4. –ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"

**–û–∂–∏–¥–∞–µ–º–æ:** –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é

### 3. –¢–µ—Å—Ç –≤—Ö–æ–¥–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
```
Email: admin@investment.com
Password: admin123
```

**–û–∂–∏–¥–∞–µ–º–æ:** –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥, –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### 4. –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞ (admin):
1. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí –ü—Ä–æ–¥—É–∫—Ç—ã ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç"
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è (–≤–∫–ª—é—á–∞—è –Ω–æ–≤—ã–µ: expected_return, duration_months, category)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

**–û–∂–∏–¥–∞–µ–º–æ:** –ü—Ä–æ–¥—É–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ç–∞–±–ª–∏—Ü–µ `investment_products`

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –û—à–∏–±–∫–∞: "column 'full_name' does not exist"
**–ü—Ä–∏—á–∏–Ω–∞:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:** –°–º. "–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å PostgreSQL –±–∞–∑—É" –≤—ã—à–µ

### –û—à–∏–±–∫–∞: "relation 'investment_products' does not exist"
**–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞—Ä–∞—è —Å—Ö–µ–º–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π `products`
**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ë–î –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏: "schema 'investment' already exists"
**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `CREATE SCHEMA IF NOT EXISTS` - —ç—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –Ω–µ –æ—à–∏–±–∫–∞

### –°–µ—Ä–≤–µ—Ä –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç:
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Render** - —Ç–∞–º –±—É–¥–µ—Ç —Ç–æ—á–Ω–∞—è –æ—à–∏–±–∫–∞
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - `DATABASE_URL` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–º–∏—Ç** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `c56e5ef` –∏–ª–∏ –Ω–æ–≤–µ–µ

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **FIX_POSTGRES_SCHEMA.md** - –¥–µ—Ç–∞–ª–∏ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å—Ö–µ–º—ã
- **QUICK_START_RENDER.md** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–∞ Render
- **RENDER_ENV.txt** - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ environment variables
- **DOCKER.md** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Docker

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –≤—Å—ë –µ—â—ë –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Render:** Dashboard ‚Üí –≤–∞—àa Web Service ‚Üí Logs
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é DB_SCHEMA:** –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `investment`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ PostgreSQL:** External Database URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º

**–í—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è PostgreSQL –±–∞–∑—ã!** üéâ
